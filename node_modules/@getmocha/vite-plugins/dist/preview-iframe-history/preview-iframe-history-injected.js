function postMessageToParent(message) {
    if (window.parent) {
        window.parent.postMessage(message, '*');
    }
}
// Report URL change event from iframe
const originalPushState = history.pushState;
const originalReplaceState = history.replaceState;
const notifyParent = () => {
    postMessageToParent({ type: 'iframe_url_changed', url: window.location.href });
};
history.pushState = function (...args) {
    originalPushState.apply(this, args);
    notifyParent();
};
history.replaceState = function (...args) {
    originalReplaceState.apply(this, args);
    notifyParent();
};
window.addEventListener('popstate', notifyParent);
window.addEventListener('hashchange', notifyParent);
if (MOCHA_ENV.DEBUG_LOGS === 'true') {
    console.log('[mocha-preview-iframe-history] installed!');
}
export {};
